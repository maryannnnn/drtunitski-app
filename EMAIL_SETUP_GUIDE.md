# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ Email

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
cp .env.local.example .env.local
```

### 2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: Gmail (–ü–†–û–©–ï –í–°–ï–ì–û –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### –®–∞–≥–∏:

1. **–í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é:**
   - –ó–∞–π–¥–∏—Ç–µ –≤ [Google Account Settings](https://myaccount.google.com/)
   - Security ‚Üí 2-Step Verification ‚Üí –í–∫–ª—é—á–∏—Ç–µ

2. **–°–æ–∑–¥–∞–π—Ç–µ App Password:**
   - –í Security –Ω–∞–π–¥–∏—Ç–µ "App passwords" (–≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
   - –í—ã–±–µ—Ä–∏—Ç–µ "Mail" –∏ "Other" (–≤–≤–µ–¥–∏—Ç–µ "Next.js App")
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ 16-–∑–Ω–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env.local`:**

```env
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=abcd efgh ijkl mnop  # –í—Å—Ç–∞–≤—å—Ç–µ App Password –ë–ï–ó –ø—Ä–æ–±–µ–ª–æ–≤
ADMIN_EMAIL=admin@drtunitski.com
NODE_ENV=development
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: SendGrid (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ 100 –ø–∏—Å–µ–º/–¥–µ–Ω—å
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç Gmail

### –®–∞–≥–∏:

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [SendGrid](https://signup.sendgrid.com/)
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)

2. **–°–æ–∑–¥–∞–π—Ç–µ API Key:**
   - Settings ‚Üí API Keys ‚Üí Create API Key
   - Name: "drtunitski-app"
   - Permissions: Full Access
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ API Key (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –û–î–ò–ù –†–ê–ó!)

3. **–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è:**
   - Settings ‚Üí Sender Authentication
   - Verify a Single Sender
   - –í–≤–µ–¥–∏—Ç–µ –≤–∞—à email –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ

4. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env.local`:**

```env
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=465
EMAIL_USER=apikey
EMAIL_PASS=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  # –í–∞—à API Key
ADMIN_EMAIL=your-verified-email@gmail.com
NODE_ENV=development
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: Mailgun

### –®–∞–≥–∏:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Mailgun](https://www.mailgun.com/)
2. –ü–æ–ª—É—á–∏—Ç–µ SMTP credentials
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env.local`:

```env
SMTP_HOST=smtp.mailgun.org
SMTP_PORT=465
EMAIL_USER=postmaster@your-domain.mailgun.org
EMAIL_PASS=your-mailgun-password
ADMIN_EMAIL=admin@drtunitski.com
NODE_ENV=development
```

---

## –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –®–∞–≥–∏:

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞:**
   - –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
   - –ü–æ–ª—É—á–∏—Ç–µ **Bot Token** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456:ABC-DEF...`)

2. **–ü–æ–ª—É—á–∏—Ç–µ Chat ID:**
   - –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ–º—É –±–æ—Ç—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
   - –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":123456789}`
   - –≠—Ç–æ –≤–∞—à **Chat ID**

3. **–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:**

```env
TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
TELEGRAM_CHAT_ID=123456789
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä:

```bash
npm run dev
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:

```
http://localhost:3000
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
=== API /api/contact –≤—ã–∑–≤–∞–Ω ===
–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: { name: 'Test', ... }
–ü–µ—Ä–µ–≤–æ–¥—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–ª—è —è–∑—ã–∫–∞: ru
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è: { SMTP_HOST: true, ... }
1. –û—Ç–ø—Ä–∞–≤–∫–∞ email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É...
‚úÖ Email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
...
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∫–æ–Ω—Å–æ–ª—å (F12):

```
–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã... {name: 'Test', ...}
–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: 200
–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞: {success: true, ...}
```

---

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### ‚ùå "Email configuration missing"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env.local` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω

### ‚ùå "Invalid login: 535-5.7.8 Username and Password not accepted"
**–†–µ—à–µ–Ω–∏–µ:** 
- Gmail: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ App Password, –ù–ï –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å
- SendGrid: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ EMAIL_USER="apikey" (–±—É–∫–≤–∞–ª—å–Ω–æ —Å–ª–æ–≤–æ "apikey")

### ‚ùå "Connection timeout"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ—Ä—Ç 587 –≤–º–µ—Å—Ç–æ 465

### ‚ùå "ENOTFOUND" –∏–ª–∏ "ECONNREFUSED"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SMTP_HOST –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

---

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vercel

1. **–ó–∞–π–¥–∏—Ç–µ –≤ Vercel Dashboard**
2. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç**
3. **Settings ‚Üí Environment Variables**
4. **–î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env.local`:**
   - `SMTP_HOST`
   - `SMTP_PORT`
   - `EMAIL_USER`
   - `EMAIL_PASS`
   - `ADMIN_EMAIL`
   - (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `TELEGRAM_BOT_TOKEN`
   - (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `TELEGRAM_CHAT_ID`

5. **Redeploy –ø—Ä–æ–µ–∫—Ç**

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:**

1. ‚ùå **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env.local` –≤ Git!
2. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env.local` –≤ `.gitignore`
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è dev –∏ production
4. ‚úÖ –•—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∫–æ–Ω—Å–æ–ª—å (F12)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (SendGrid –æ–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–µ–µ Gmail)

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å –≤–∞—à–∞ —Ñ–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ –ø–∏—Å—å–º–∞ –Ω–∞ –Ω—É–∂–Ω–æ–º —è–∑—ã–∫–µ!

