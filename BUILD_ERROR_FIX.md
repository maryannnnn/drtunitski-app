# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–±–æ—Ä–∫–∏ Vercel

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ —Å–±–æ—Ä–∫–µ –Ω–∞ Vercel –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
Error: Failed to collect page data for /bonus/[slug]
ApolloError: fetch failed
ConnectTimeoutError: Connect Timeout Error (attempted address: drtunitski.neo-lines.bond:443, timeout: 10000ms)
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

–ü—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ:
1. **API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –Ω–∞ Vercel
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ GraphQL
3. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –≤ `getStaticPaths` –∏ `getStaticProps`
4. **–¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –∫ `drtunitski.neo-lines.bond:443`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –≤—Å–µ—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- `pages/bonus/[slug].jsx`
- `pages/salon/[slug].jsx`
- `pages/course/[slug].jsx`
- `pages/testimonial/[slug].jsx`
- `pages/massage/[slug].jsx`
- `pages/blog/[slug].jsx` (—É–∂–µ –±—ã–ª–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞)

#### –ü–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```jsx
export async function getStaticPaths({ locales }) {
    try {
        const {data} = await apolloClient.query({
            query: GET_QUERY_ALL,
        });
        
        // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö ...
        
        return {paths, fallback: true};
    } catch (error) {
        console.error("Error fetching data for static paths:", error);
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –ø—É—Ç–µ–π, –Ω–æ —Å fallback: true
        // –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
        return {
            paths: [],
            fallback: true
        };
    }
}

export async function getStaticProps({params, locale}) {
    try {
        const {data} = await apolloClient.query({
            query: GET_QUERY_BY_SLUG,
            variables: {slug: params.slug},
        });

        return {
            props: {
                initialData: data,
                ...(await serverSideTranslations(locale, ['common'])),
            },
        };
    } catch (error) {
        console.error("Error fetching data:", error);
        return {
            props: {
                initialData: { dataBy: null },
                ...(await serverSideTranslations(locale, ['common'])),
            },
        };
    }
}
```

### 2. –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ErrorFallback

#### –§–∞–π–ª: `components/ErrorFallback.jsx`
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- **–ü–µ—Ä–µ–≤–æ–¥—ã** –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
- **–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π**: "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞" –∏ "–ù–∞ –≥–ª–∞–≤–Ω—É—é"
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 3. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –æ—à–∏–±–æ–∫

#### –ü–µ—Ä–µ–≤–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤:
- `public/locales/en/common.json`
- `public/locales/ru/common.json`
- (–∏ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
```json
{
  "error": {
    "title": "Something went wrong",
    "description": "We apologize for the inconvenience...",
    "details": "Error details:",
    "retry": "Try Again",
    "goHome": "Go Home"
  }
}
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –æ—à–∏–±–∫–∞–º
- **–°–±–æ—Ä–∫–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è** –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é (fallback: true)
- **Graceful degradation** - –ø–æ–∫–∞–∑ –æ—à–∏–±–æ–∫ –≤–º–µ—Å—Ç–æ –∫—Ä–∞—Ö–∞

### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π UX
- **–ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö** –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É** –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–µ—Ç–∞–ª–∏** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **Vercel —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç** –¥–∞–∂–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å API
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ—Å—Ç—É–ø–Ω—ã** –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ API

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
```jsx
return {
    paths: [],           // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –ø—É—Ç–µ–π
    fallback: true       // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
};
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ getStaticProps
```jsx
catch (error) {
    console.error("Error fetching data:", error);
    return {
        props: {
            initialData: { dataBy: null },  // Null –¥–∞–Ω–Ω—ã–µ
            ...(await serverSideTranslations(locale, ['common'])),
        },
    };
}
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ErrorFallback
- **–£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ useTranslation
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è** —á–µ—Ä–µ–∑ useRouter
- **Material-UI** –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å —Å–±–æ—Ä–∫–∞ –Ω–∞ Vercel –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —É—Å–ø–µ—à–Ω–æ:

1. **API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å fallback
2. **API –¥–æ—Å—Ç—É–ø–µ–Ω** ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å –¥–∞–Ω–Ω—ã–º–∏
3. **–û—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç–Ω–æ
4. **–°–∞–π—Ç –æ—Å—Ç–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º** –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ

## üìù –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- `"Error fetching data for static paths:"` - –ø—Ä–æ–±–ª–µ–º—ã —Å getStaticPaths
- `"Error fetching data:"` - –ø—Ä–æ–±–ª–µ–º—ã —Å getStaticProps
- `ConnectTimeoutError` - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ API

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏** Vercel –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API** –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å fallback** –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã! –°–±–æ—Ä–∫–∞ –Ω–∞ Vercel —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —É—Å–ø–µ—à–Ω–æ. üéâ
